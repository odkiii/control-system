# СистемаКонтроля – управление дефектами на строительных объектах

Монолитное веб-приложение для централизованного управления дефектами 
на строительных объектах.

## Возможности
- Регистрация дефектов и назначение ответственных
- Управление статусами задач
- Формирование аналитической отчетности
- Поддержка фото и документов
- Разграничение доступа (инженер, менеджер, руководитель, заказчик)

## Стек (предварительный)
- Backend: Python (Django) / Node.js (Nest.js)
- Frontend: VueJS
- DB: PostgreSQL


# Этап 1. Анализ

## Цели разработки
Создать систему для управления дефектами на строительных объектах, 
позволяющую инженерам, менеджерам и руководителям работать 
в едином пространстве.

## Пользовательские роли
- **Инженер** – фиксирует дефекты, прикладывает фото, обновляет статусы.
- **Менеджер** – назначает исполнителей, контролирует сроки.
- **Руководитель/заказчик** – просматривает отчеты, статистику.

## Функциональные требования (FR)
1. Регистрация пользователей и аутентификация.
2. Разграничение доступа по ролям.
3. Управление проектами/объектами и их этапами.
4. Создание/редактирование дефектов (заголовок, описание, приоритет, сроки, вложения).
5. Управление статусами дефектов: `Новая → В работе → На проверке → Закрыта/Отменена`.
6. Комментарии и история изменений.
7. Поиск, сортировка и фильтрация дефектов.
8. Экспорт отчетов (CSV/Excel).
9. Просмотр аналитических отчетов (графики, статистика).

## Нефункциональные требования (NFR)
- Время отклика страницы ≤ 1 сек для 50 пользователей.
- Резервное копирование БД 1 раз в сутки.
- Интерфейс на русском языке, адаптивный.
- Совместимость с Chrome/Firefox/Edge.
- Безопасность: bcrypt/argon2 для паролей, защита от SQL/XSS/CSRF.

## Use Case
Диаграмма (docs/diagrams/use-case.png):  
- Инженер создает дефект.  
- Менеджер назначает исполнителя.  
- Руководитель просматривает отчет.

## User Stories
- Как инженер, я хочу зарегистрировать дефект с фото, чтобы зафиксировать проблему.  
- Как менеджер, я хочу назначить инженера и срок, чтобы контролировать выполнение.  
- Как руководитель, я хочу видеть отчет по статусам, чтобы оценить прогресс.



# Этап 2. Проектирование

## Архитектура
Система будет монолитным веб-приложением:
- **Frontend (React)** – интерфейс для пользователей.
- **Backend (Django/Nest.js)** – API, бизнес-логика.
- **PostgreSQL** – база данных.
- **Storage (S3/локально)** – для вложений (фото, документы).

Диаграмма (docs/diagrams/architecture.png):
Пользователь → Frontend → Backend → DB + Storage.

## ER-диаграмма
Основные сущности:
- Users (id, name, email, role, password_hash)
- Projects (id, name, description, stage)
- Defects (id, project_id, title, description, priority, status, assignee_id, due_date)
- Attachments (id, defect_id, file_path)
- Comments (id, defect_id, user_id, text, created_at)

Диаграмма (docs/diagrams/er-diagram.png).

## Прототип интерфейса
- Экран входа
- Список проектов
- Список дефектов (фильтр/поиск)
- Карточка дефекта (описание, статус, комментарии)
- Отчеты (таблицы, графики)

## WBS (Work Breakdown Structure)
1. Пользователи и авторизация
2. Проекты и этапы
3. Дефекты (CRUD + статусы)
4. Вложения и комментарии
5. Отчеты и экспорт
6. Безопасность
7. Тестирование
8. Внедрение

## План
- Использовать модульную архитектуру.
- Возможность масштабирования (разделение фронта и бэка).
- Согласовать UX-прототипы перед разработкой.
